{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Documents\\\\pharmacy project\\\\ePharmacy-frontend\\\\src\\\\components\\\\customeredit.component.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Route, Switch, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport SuccessAlert from \"./successAlert\";\nimport ErrorAlert from \"./errorAlert\";\nexport default class editcustomer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      const currentuser = JSON.parse(atob(localStorage.login.split(\".\")[1]));\n      console.log(this.state);\n      axios.put('/api/Customers/' + currentuser.id, this.state).then(response => {\n        this.setState({\n          alert_message: \"success\"\n        });\n      }).catch(error => {\n        this.setState({\n          alert_message: \"error\"\n        });\n      });\n    };\n\n    this.state = {\n      customername: '',\n      email: '',\n      teleNo: '',\n      password: '',\n      alert_message: ''\n    };\n  }\n\n  componentDidMount() {\n    const currentuser = JSON.parse(atob(localStorage.login.split(\".\")[1]));\n    axios.get('https://localhost:44357/api/Customers/' + currentuser.id).then(res => {\n      //console.log(res)\n      this.setState(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      customername,\n      email,\n      teleNo,\n      password\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"outer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), this.state.alert_message == \"success\" ? /*#__PURE__*/_jsxDEV(SuccessAlert, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 54\n        }, this) : null, this.state.alert_message == \"error\" ? /*#__PURE__*/_jsxDEV(ErrorAlert, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 52\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Edit profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Full name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter name\",\n              name: \"customername\",\n              value: customername,\n              onChange: this.changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter email\",\n              name: \"email\",\n              value: email,\n              onChange: this.changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Teleno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter telephone no\",\n              name: \"teleNo\",\n              value: teleNo,\n              onChange: this.changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter password\",\n              name: \"password\",\n              value: password,\n              onChange: this.changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-dark btn-lg btn-block\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Asus/Documents/pharmacy project/ePharmacy-frontend/src/components/customeredit.component.js"],"names":["React","Component","BrowserRouter","Route","Switch","Link","axios","SuccessAlert","ErrorAlert","editcustomer","constructor","props","changeHandler","e","setState","target","name","value","submitHandler","preventDefault","currentuser","JSON","parse","atob","localStorage","login","split","console","log","state","put","id","then","response","alert_message","catch","error","customername","email","teleNo","password","componentDidMount","get","res","data","err","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,KAA1B,EAAiCC,MAAjC,EAAyCC,IAAzC,QAAqD,kBAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,eAAe,MAAMC,YAAN,SAA2BR,SAA3B,CAAqC;AAEhDS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA0BnBC,aA1BmB,GA0BHC,CAAC,IAAI;AACjB,WAAKC,QAAL,CAAc;AAAC,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAA3B,OAAd;AACH,KA5BkB;;AAAA,SA8BnBC,aA9BmB,GA8BHL,CAAC,IAAI;AACjBA,MAAAA,CAAC,CAACM,cAAF;AACA,YAAMC,WAAW,GAAOC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,YAAY,CAACC,KAAb,CAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAD,CAAf,CAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACAvB,MAAAA,KAAK,CACDwB,GADJ,CACQ,oBAAmBV,WAAW,CAACW,EADvC,EAC2C,KAAKF,KADhD,EAEIG,IAFJ,CAESC,QAAQ,IAAI;AACjB,aAAKnB,QAAL,CAAc;AAACoB,UAAAA,aAAa,EAAC;AAAf,SAAd;AACH,OAJD,EAKCC,KALD,CAKOC,KAAK,IAAI;AACZ,aAAKtB,QAAL,CAAc;AAACoB,UAAAA,aAAa,EAAC;AAAf,SAAd;AACH,OAPD;AAQH,KA1CkB;;AAGf,SAAKL,KAAL,GAAa;AACTQ,MAAAA,YAAY,EAAC,EADJ;AAETC,MAAAA,KAAK,EAAC,EAFG;AAGTC,MAAAA,MAAM,EAAC,EAHE;AAITC,MAAAA,QAAQ,EAAC,EAJA;AAKTN,MAAAA,aAAa,EAAG;AALP,KAAb;AAOH;;AAIDO,EAAAA,iBAAiB,GAAG;AAEhB,UAAMrB,WAAW,GAAOC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,YAAY,CAACC,KAAb,CAAmBC,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAD,CAAf,CAAxB;AACApB,IAAAA,KAAK,CAACoC,GAAN,CAAU,2CAA0CtB,WAAW,CAACW,EAAhE,EACCC,IADD,CACMW,GAAG,IAAI;AACT;AACD,WAAK7B,QAAL,CAAc6B,GAAG,CAACC,IAAlB;AACF,KAJD,EAKCT,KALD,CAKOU,GAAG,IAAIlB,OAAO,CAACC,GAAR,CAAYiB,GAAZ,CALd;AAOD;;AAoBHC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAET,MAAAA,YAAF;AAAgBC,MAAAA,KAAhB;AAAuBC,MAAAA,MAAvB;AAA+BC,MAAAA;AAA/B,QAA4C,KAAKX,KAAvD;AACA,wBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,6BACA;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA,gCAEA;AAAA;AAAA;AAAA;AAAA,gBAFA,EAGK,KAAKA,KAAL,CAAWK,aAAX,IAA0B,SAA1B,gBAAoC,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,gBAApC,GAAoD,IAHzD,EAIK,KAAKL,KAAL,CAAWK,aAAX,IAA0B,OAA1B,gBAAkC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,gBAAlC,GAAgD,IAJrD,eAOA;AAAM,UAAA,QAAQ,EAAE,KAAKhB,aAArB;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,SAAS,EAAC,cAA7B;AAA4C,cAAA,WAAW,EAAC,YAAxD;AAAqE,cAAA,IAAI,EAAC,cAA1E;AAAyF,cAAA,KAAK,EAAEmB,YAAhG;AAA8G,cAAA,QAAQ,EAAE,KAAKzB;AAA7H;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAQI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,SAAS,EAAC,cAA7B;AAA4C,cAAA,WAAW,EAAC,aAAxD;AAAsE,cAAA,IAAI,EAAC,OAA3E;AAAmF,cAAA,KAAK,EAAE0B,KAA1F;AAAiG,cAAA,QAAQ,EAAE,KAAK1B;AAAhH;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eAaI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,SAAS,EAAC,cAA7B;AAA4C,cAAA,WAAW,EAAC,oBAAxD;AAA6E,cAAA,IAAI,EAAC,QAAlF;AAA2F,cAAA,KAAK,EAAE2B,MAAlG;AAA0G,cAAA,QAAQ,EAAE,KAAK3B;AAAzH;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbJ,eAkBI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,SAAS,EAAC,cAA7B;AAA4C,cAAA,WAAW,EAAC,gBAAxD;AAAyE,cAAA,IAAI,EAAC,UAA9E;AAAyF,cAAA,KAAK,EAAE4B,QAAhG;AAA0G,cAAA,QAAQ,EAAE,KAAK5B;AAAzH;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBJ,eAuBI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,SAAS,EAAC,+BAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADJ;AAqCH;;AArF+C","sourcesContent":["import React, { Component } from \"react\";\r\nimport { BrowserRouter as Route, Switch, Link } from \"react-router-dom\";\r\nimport axios from 'axios'\r\nimport SuccessAlert from \"./successAlert\";\r\nimport ErrorAlert from \"./errorAlert\";\r\n\r\nexport default class editcustomer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            customername:'',\r\n            email:'',\r\n            teleNo:'',\r\n            password:'',\r\n            alert_message : ''\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n\r\n        const currentuser     = JSON.parse(atob(localStorage.login.split(\".\")[1]));\r\n        axios.get('https://localhost:44357/api/Customers/'+ currentuser.id)\r\n        .then(res => {\r\n            //console.log(res)\r\n           this.setState(res.data)\r\n        })\r\n        .catch(err => console.log(err))\r\n      \r\n      }\r\n\r\n    changeHandler = e => {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault()\r\n        const currentuser     = JSON.parse(atob(localStorage.login.split(\".\")[1]));\r\n        console.log(this.state)\r\n        axios\r\n           .put('/api/Customers/'+ currentuser.id, this.state)\r\n           .then(response => {\r\n            this.setState({alert_message:\"success\"})\r\n        })\r\n        .catch(error => {\r\n            this.setState({alert_message:\"error\"})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { customername, email, teleNo, password } = this.state\r\n        return (\r\n            <div className=\"outer\">\r\n            <div className=\"inner\"> \r\n\r\n            <hr/>\r\n                {this.state.alert_message==\"success\"?<SuccessAlert/>:null}\r\n                {this.state.alert_message==\"error\"?<ErrorAlert/>:null}\r\n\r\n\r\n            <form onSubmit={this.submitHandler}>\r\n                <h3>Edit profile</h3>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Full name</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter name\" name=\"customername\" value={customername} onChange={this.changeHandler}/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Email</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter email\" name=\"email\" value={email} onChange={this.changeHandler}/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Teleno</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter telephone no\" name=\"teleNo\" value={teleNo} onChange={this.changeHandler}/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter password\" name=\"password\" value={password} onChange={this.changeHandler}/>\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"btn btn-dark btn-lg btn-block\">Update</button>\r\n            </form>\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}