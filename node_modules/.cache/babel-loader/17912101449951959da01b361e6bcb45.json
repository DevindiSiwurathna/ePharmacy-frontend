{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Documents\\\\pharmacy project\\\\ePharmacy-frontend\\\\src\\\\components\\\\Pharmacyedit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Pharmacyaccountedit from './Pharmacyaccountedit';\nimport axios from \"axios\";\nexport default function Pharmacyedit() {\n  _s();\n\n  const [pharmacyList, setpharmacyList] = useState([]);\n  const [recordForEdit, setRecordForEdit] = useState(null);\n  const currentuser = JSON.parse(atob(localStorage.login.split(\".\")[1]));\n  useEffect(() => {\n    refreshpharmacyList();\n  }, []);\n\n  const pharmacyAPI = (url = 'https://localhost:44357/api/Pharmacies/') => {\n    return {\n      fetchbyid: () => axios.get('https://localhost:44357/api/Pharmacies?field=Byid&value=' + currentuser.id),\n      create: newRecord => axios.post(url, newRecord),\n      update: (id, updatedRecord) => axios.put(url + id, updatedRecord),\n      delete: id => axios.delete(url + id)\n    };\n  };\n\n  function refreshpharmacyList() {\n    pharmacyAPI().fetchbyid().then(res => {\n      //console.log(res)\n      setpharmacyList(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  const addOrEdit = (formData, onSuccess) => {\n    pharmacyAPI().update(formData.get('id'), formData).then(res => {\n      onSuccess();\n      refreshpharmacyList();\n    }).catch(err => console.log(err));\n  };\n\n  const showRecordDetails = data => {\n    setRecordForEdit(data); //console.log(recordForEdit)\n  };\n\n  const onDelete = (e, id) => {\n    e.stopPropagation();\n    if (window.confirm('Are you sure to deactivate this Account?')) pharmacyAPI().delete(id).then(res => refreshpharmacyList()).catch(err => console.log(err));\n  };\n\n  const imageCard = data => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: data.pharmacyname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        onClick: () => {\n          showRecordDetails(data);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: data.imageSrc,\n          className: \"card-img-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.regNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: data.teleNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-light delete-button\",\n            onClick: e => onDelete(e, parseInt(data.id)),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-trash-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: //tr > 3 td\n          [...Array(Math.ceil(pharmacyList.length / 3))].map((e, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: imageCard(pharmacyList[3 * i])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: /*#__PURE__*/_jsxDEV(Pharmacyaccountedit, {\n        addOrEdit: addOrEdit,\n        recordForEdit: recordForEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Pharmacyedit, \"RFe31DprBqUB0U5hEJXsqIgqL8w=\");\n\n_c = Pharmacyedit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pharmacyedit\");","map":{"version":3,"sources":["C:/Users/Asus/Documents/pharmacy project/ePharmacy-frontend/src/components/Pharmacyedit.js"],"names":["React","useState","useEffect","Pharmacyaccountedit","axios","Pharmacyedit","pharmacyList","setpharmacyList","recordForEdit","setRecordForEdit","currentuser","JSON","parse","atob","localStorage","login","split","refreshpharmacyList","pharmacyAPI","url","fetchbyid","get","id","create","newRecord","post","update","updatedRecord","put","delete","then","res","data","catch","err","console","log","addOrEdit","formData","onSuccess","showRecordDetails","onDelete","e","stopPropagation","window","confirm","imageCard","pharmacyname","imageSrc","regNo","address","email","teleNo","parseInt","Array","Math","ceil","length","map","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Pharmacyaccountedit from './Pharmacyaccountedit'\r\nimport axios from \"axios\";\r\n\r\nexport default function  Pharmacyedit() {\r\n\r\n    const [pharmacyList, setpharmacyList] = useState([])\r\n    const [recordForEdit, setRecordForEdit] = useState(null)\r\n\r\n    const currentuser     = JSON.parse(atob(localStorage.login.split(\".\")[1])); \r\n\r\n    useEffect(() => {\r\n\r\n        refreshpharmacyList();\r\n      \r\n        \r\n    }, [])\r\n\r\n\r\n    const pharmacyAPI = (url = 'https://localhost:44357/api/Pharmacies/') => {\r\n        return {\r\n            fetchbyid: () => axios.get('https://localhost:44357/api/Pharmacies?field=Byid&value='+currentuser.id),\r\n            create: newRecord => axios.post(url, newRecord),\r\n            update: (id, updatedRecord) => axios.put(url + id, updatedRecord),\r\n            delete: id => axios.delete(url + id)\r\n        }\r\n    }\r\n\r\n    function refreshpharmacyList() {\r\n        pharmacyAPI().fetchbyid()\r\n            .then(res => {\r\n                //console.log(res)\r\n                setpharmacyList(res.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const addOrEdit = (formData, onSuccess) => {\r\n        pharmacyAPI().update(formData.get('id'), formData)\r\n        .then(res => {\r\n            onSuccess();\r\n            refreshpharmacyList();\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    const showRecordDetails = data => {\r\n        setRecordForEdit(data)\r\n        //console.log(recordForEdit)\r\n    }\r\n\r\n    const onDelete = (e, id) => {\r\n        e.stopPropagation();\r\n        if (window.confirm('Are you sure to deactivate this Account?'))\r\n        pharmacyAPI().delete(id)\r\n                .then(res => refreshpharmacyList())\r\n                .catch(err => console.log(err))\r\n    }\r\n\r\n    const imageCard = data => (\r\n        <div className=\"outer\">\r\n        <div className=\"inner3\">\r\n        <h5>{data.pharmacyname}</h5>\r\n        <div className=\"card\" onClick={() => { showRecordDetails(data) }}>\r\n            <img src={data.imageSrc} className=\"card-img-top\" />\r\n            <div className=\"card-body\">\r\n                <span>{data.regNo}</span><br />\r\n                <span>{data.address}</span><br />\r\n                <span>{data.email}</span><br />\r\n                <span>{data.teleNo}</span><br />\r\n                \r\n                 <br />\r\n                <button className=\"btn btn-light delete-button\" onClick={e => onDelete(e, parseInt(data.id))}>\r\n                    <i className=\"far fa-trash-alt\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        \r\n        <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n        </div>\r\n        <div className=\"col-md-2\"></div>\r\n        <div className=\"col-md-4\">\r\n        <table>\r\n                <tbody>\r\n                    {\r\n                        //tr > 3 td\r\n                        [...Array(Math.ceil(pharmacyList.length / 3))].map((e, i) =>\r\n                            <tr key={i}>\r\n                                <td>{imageCard(pharmacyList[3 * i])}</td>\r\n                            </tr>\r\n                        )\r\n                    }\r\n                </tbody>\r\n            </table>                              \r\n        </div>\r\n        <div className=\"col-md-4\">\r\n            <Pharmacyaccountedit\r\n                addOrEdit={addOrEdit}\r\n                recordForEdit={recordForEdit}\r\n            />\r\n        </div>\r\n    </div>\r\n       \r\n        \r\n        \r\n            \r\n            \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}